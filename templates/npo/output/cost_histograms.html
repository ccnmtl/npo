{% extends "base.html" %}
{% load get %}

{% block content %}

{% for system, counts in counts.items %}
<h2>{{system}}</h2>
<table id="data{{forloop.counter0}}" style="float:right">
<tbody>
  {% for bin, count in counts.items %}
  <tr>
    <th scope="row">{{bin}}</th>
    <td>{{count}}</td>
  {% endfor %}
</tbody>
</table>

<canvas id="graph{{forloop.counter0}}" width="500" height="350"></canvas>

{% endfor %}

{% include "bluff.html" %}

<script type="text/javascript">
  var g = new Bluff.Bar('graph0', '500x350');
  g.theme_rails_keynote();
  g.sort = false;
  g.hide_legend = true;
  g.data_from_table('data0');
  g.draw();

  var g = new Bluff.Bar('graph1', '500x350');
  g.theme_rails_keynote();
  g.sort = false;
  g.hide_legend = true;
  g.data_from_table('data1');
  g.draw();

  var g = new Bluff.Bar('graph2', '500x350');
  g.theme_rails_keynote();
  g.sort = false;
  g.hide_legend = true;
  g.data_from_table('data2');
  g.draw();
</script>

{% endblock %}
